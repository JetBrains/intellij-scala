// Nested class for GADT constraining
object nestedClass{
  enum Expr[A] {
    case IntExpr(value: Int) extends Expr[Int]
    case Other[T](value: T) extends Expr[T]
  }

  class Outer1[C] {
    class Inner1 {
      def eval(e: Expr[C]): C =
        e match {
          case Expr.IntExpr(i) => i + 2
          case Expr.Other(v) => v
        }
    }
  }

  def foo2[C](): Unit = 
    class Outer2 {
      class Inner2 {
        def eval(e: Expr[C]): C =
          e match {
            case Expr.IntExpr(i) => i + 2
            case Expr.Other(v) => v
          }
      }
    }

  class Outer3[C] {
    def foo3(): Unit = 
      class Inner3 {
          def eval(e: Expr[C]): C =
            e match {
              case Expr.IntExpr(i) => i + 2
              case Expr.Other(v) => v
            }
      }
  }

  trait Outer4[C] {
    class Inner4 {
      def eval(e: Expr[C]): C =
        e match {
          case Expr.IntExpr(i) => i + 2
          case Expr.Other(v) => v
        }
    }
  }

  class Outer5[C] {
    object Inner5 {
      def eval(e: Expr[C]): C =
        e match {
          case Expr.IntExpr(i) => i + 2
          case Expr.Other(v) => v
        }
    }
  }
}
-----
ScalaFile
  ScObject: nestedClass
    PsiComment(comment)('// Nested class for GADT constraining')
    PsiWhiteSpace('\n')
    AnnotationsList
      <empty list>
    Modifiers
      <empty list>
    PsiElement(object)('object')
    PsiWhiteSpace(' ')
    PsiElement(identifier)('nestedClass')
    ExtendsBlock
      ScTemplateBody
        PsiElement({)('{')
        PsiWhiteSpace('\n  ')
        ScEnum: Expr
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(enum)('enum')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('Expr')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: A
              PsiElement(identifier)('A')
            PsiElement(])(']')
          PrimaryConstructor
            AnnotationsList
              <empty list>
            Modifiers
              <empty list>
            Parameters
              <empty list>
          PsiWhiteSpace(' ')
          ExtendsBlock
            ScTemplateBody
              PsiElement({)('{')
              PsiWhiteSpace('\n    ')
              ScEnumCases: IntExpr
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(case)('case')
                PsiWhiteSpace(' ')
                ScEnumClassCase: IntExpr
                  PsiElement(identifier)('IntExpr')
                  PrimaryConstructor
                    AnnotationsList
                      <empty list>
                    Modifiers
                      <empty list>
                    Parameters
                      ParametersClause
                        PsiElement(()('(')
                        ClassParameter: value
                          AnnotationsList
                            <empty list>
                          Modifiers
                            <empty list>
                          PsiElement(identifier)('value')
                          PsiElement(:)(':')
                          PsiWhiteSpace(' ')
                          ParameterType
                            SimpleType: Int
                              CodeReferenceElement: Int
                                PsiElement(identifier)('Int')
                        PsiElement())(')')
                  PsiWhiteSpace(' ')
                  ExtendsBlock
                    PsiElement(extends)('extends')
                    PsiWhiteSpace(' ')
                    TemplateParents
                      ConstructorInvocation
                        ParametrizedType: Expr[Int]
                          SimpleType: Expr
                            CodeReferenceElement: Expr
                              PsiElement(identifier)('Expr')
                          TypeArgumentsList
                            PsiElement([)('[')
                            SimpleType: Int
                              CodeReferenceElement: Int
                                PsiElement(identifier)('Int')
                            PsiElement(])(']')
              PsiWhiteSpace('\n    ')
              ScEnumCases: Other
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(case)('case')
                PsiWhiteSpace(' ')
                ScEnumClassCase: Other
                  PsiElement(identifier)('Other')
                  TypeParameterClause
                    PsiElement([)('[')
                    TypeParameter: T
                      PsiElement(identifier)('T')
                    PsiElement(])(']')
                  PrimaryConstructor
                    AnnotationsList
                      <empty list>
                    Modifiers
                      <empty list>
                    Parameters
                      ParametersClause
                        PsiElement(()('(')
                        ClassParameter: value
                          AnnotationsList
                            <empty list>
                          Modifiers
                            <empty list>
                          PsiElement(identifier)('value')
                          PsiElement(:)(':')
                          PsiWhiteSpace(' ')
                          ParameterType
                            SimpleType: T
                              CodeReferenceElement: T
                                PsiElement(identifier)('T')
                        PsiElement())(')')
                  PsiWhiteSpace(' ')
                  ExtendsBlock
                    PsiElement(extends)('extends')
                    PsiWhiteSpace(' ')
                    TemplateParents
                      ConstructorInvocation
                        ParametrizedType: Expr[T]
                          SimpleType: Expr
                            CodeReferenceElement: Expr
                              PsiElement(identifier)('Expr')
                          TypeArgumentsList
                            PsiElement([)('[')
                            SimpleType: T
                              CodeReferenceElement: T
                                PsiElement(identifier)('T')
                            PsiElement(])(']')
              PsiWhiteSpace('\n  ')
              PsiElement(})('}')
        PsiWhiteSpace('\n\n  ')
        ScClass: Outer1
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(class)('class')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('Outer1')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: C
              PsiElement(identifier)('C')
            PsiElement(])(']')
          PrimaryConstructor
            AnnotationsList
              <empty list>
            Modifiers
              <empty list>
            Parameters
              <empty list>
          PsiWhiteSpace(' ')
          ExtendsBlock
            ScTemplateBody
              PsiElement({)('{')
              PsiWhiteSpace('\n    ')
              ScClass: Inner1
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(class)('class')
                PsiWhiteSpace(' ')
                PsiElement(identifier)('Inner1')
                PrimaryConstructor
                  AnnotationsList
                    <empty list>
                  Modifiers
                    <empty list>
                  Parameters
                    <empty list>
                PsiWhiteSpace(' ')
                ExtendsBlock
                  ScTemplateBody
                    PsiElement({)('{')
                    PsiWhiteSpace('\n      ')
                    ScFunctionDefinition: eval
                      AnnotationsList
                        <empty list>
                      Modifiers
                        <empty list>
                      PsiElement(def)('def')
                      PsiWhiteSpace(' ')
                      PsiElement(identifier)('eval')
                      Parameters
                        ParametersClause
                          PsiElement(()('(')
                          Parameter: e
                            AnnotationsList
                              <empty list>
                            Modifiers
                              <empty list>
                            PsiElement(identifier)('e')
                            PsiElement(:)(':')
                            PsiWhiteSpace(' ')
                            ParameterType
                              ParametrizedType: Expr[C]
                                SimpleType: Expr
                                  CodeReferenceElement: Expr
                                    PsiElement(identifier)('Expr')
                                TypeArgumentsList
                                  PsiElement([)('[')
                                  SimpleType: C
                                    CodeReferenceElement: C
                                      PsiElement(identifier)('C')
                                  PsiElement(])(']')
                          PsiElement())(')')
                      PsiElement(:)(':')
                      PsiWhiteSpace(' ')
                      SimpleType: C
                        CodeReferenceElement: C
                          PsiElement(identifier)('C')
                      PsiWhiteSpace(' ')
                      PsiElement(=)('=')
                      PsiWhiteSpace('\n        ')
                      MatchStatement
                        ReferenceExpression: e
                          PsiElement(identifier)('e')
                        PsiWhiteSpace(' ')
                        PsiElement(match)('match')
                        PsiWhiteSpace(' ')
                        PsiElement({)('{')
                        PsiWhiteSpace('\n          ')
                        CaseClauses
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.IntExpr
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('IntExpr')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: i
                                  PsiElement(identifier)('i')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              InfixExpression
                                ReferenceExpression: i
                                  PsiElement(identifier)('i')
                                PsiWhiteSpace(' ')
                                ReferenceExpression: +
                                  PsiElement(identifier)('+')
                                PsiWhiteSpace(' ')
                                IntegerLiteral
                                  PsiElement(integer)('2')
                          PsiWhiteSpace('\n          ')
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.Other
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('Other')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: v
                                  PsiElement(identifier)('v')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              ReferenceExpression: v
                                PsiElement(identifier)('v')
                        PsiWhiteSpace('\n        ')
                        PsiElement(})('}')
                    PsiWhiteSpace('\n    ')
                    PsiElement(})('}')
              PsiWhiteSpace('\n  ')
              PsiElement(})('}')
        PsiWhiteSpace('\n\n  ')
        ScFunctionDefinition: foo2
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(def)('def')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('foo2')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: C
              PsiElement(identifier)('C')
            PsiElement(])(']')
          Parameters
            ParametersClause
              PsiElement(()('(')
              PsiElement())(')')
          PsiElement(:)(':')
          PsiWhiteSpace(' ')
          SimpleType: Unit
            CodeReferenceElement: Unit
              PsiElement(identifier)('Unit')
          PsiWhiteSpace(' ')
          PsiElement(=)('=')
          BlockExpression
            PsiWhiteSpace(' \n    ')
            ScClass: Outer2
              AnnotationsList
                <empty list>
              Modifiers
                <empty list>
              PsiElement(class)('class')
              PsiWhiteSpace(' ')
              PsiElement(identifier)('Outer2')
              PrimaryConstructor
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                Parameters
                  <empty list>
              PsiWhiteSpace(' ')
              ExtendsBlock
                ScTemplateBody
                  PsiElement({)('{')
                  PsiWhiteSpace('\n      ')
                  ScClass: Inner2
                    AnnotationsList
                      <empty list>
                    Modifiers
                      <empty list>
                    PsiElement(class)('class')
                    PsiWhiteSpace(' ')
                    PsiElement(identifier)('Inner2')
                    PrimaryConstructor
                      AnnotationsList
                        <empty list>
                      Modifiers
                        <empty list>
                      Parameters
                        <empty list>
                    PsiWhiteSpace(' ')
                    ExtendsBlock
                      ScTemplateBody
                        PsiElement({)('{')
                        PsiWhiteSpace('\n        ')
                        ScFunctionDefinition: eval
                          AnnotationsList
                            <empty list>
                          Modifiers
                            <empty list>
                          PsiElement(def)('def')
                          PsiWhiteSpace(' ')
                          PsiElement(identifier)('eval')
                          Parameters
                            ParametersClause
                              PsiElement(()('(')
                              Parameter: e
                                AnnotationsList
                                  <empty list>
                                Modifiers
                                  <empty list>
                                PsiElement(identifier)('e')
                                PsiElement(:)(':')
                                PsiWhiteSpace(' ')
                                ParameterType
                                  ParametrizedType: Expr[C]
                                    SimpleType: Expr
                                      CodeReferenceElement: Expr
                                        PsiElement(identifier)('Expr')
                                    TypeArgumentsList
                                      PsiElement([)('[')
                                      SimpleType: C
                                        CodeReferenceElement: C
                                          PsiElement(identifier)('C')
                                      PsiElement(])(']')
                              PsiElement())(')')
                          PsiElement(:)(':')
                          PsiWhiteSpace(' ')
                          SimpleType: C
                            CodeReferenceElement: C
                              PsiElement(identifier)('C')
                          PsiWhiteSpace(' ')
                          PsiElement(=)('=')
                          PsiWhiteSpace('\n          ')
                          MatchStatement
                            ReferenceExpression: e
                              PsiElement(identifier)('e')
                            PsiWhiteSpace(' ')
                            PsiElement(match)('match')
                            PsiWhiteSpace(' ')
                            PsiElement({)('{')
                            PsiWhiteSpace('\n            ')
                            CaseClauses
                              CaseClause
                                PsiElement(case)('case')
                                PsiWhiteSpace(' ')
                                ConstructorPattern
                                  CodeReferenceElement: Expr.IntExpr
                                    CodeReferenceElement: Expr
                                      PsiElement(identifier)('Expr')
                                    PsiElement(.)('.')
                                    PsiElement(identifier)('IntExpr')
                                  Pattern Argument List
                                    PsiElement(()('(')
                                    ReferencePattern: i
                                      PsiElement(identifier)('i')
                                    PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(=>)('=>')
                                PsiWhiteSpace(' ')
                                BlockOfExpressions
                                  InfixExpression
                                    ReferenceExpression: i
                                      PsiElement(identifier)('i')
                                    PsiWhiteSpace(' ')
                                    ReferenceExpression: +
                                      PsiElement(identifier)('+')
                                    PsiWhiteSpace(' ')
                                    IntegerLiteral
                                      PsiElement(integer)('2')
                              PsiWhiteSpace('\n            ')
                              CaseClause
                                PsiElement(case)('case')
                                PsiWhiteSpace(' ')
                                ConstructorPattern
                                  CodeReferenceElement: Expr.Other
                                    CodeReferenceElement: Expr
                                      PsiElement(identifier)('Expr')
                                    PsiElement(.)('.')
                                    PsiElement(identifier)('Other')
                                  Pattern Argument List
                                    PsiElement(()('(')
                                    ReferencePattern: v
                                      PsiElement(identifier)('v')
                                    PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(=>)('=>')
                                PsiWhiteSpace(' ')
                                BlockOfExpressions
                                  ReferenceExpression: v
                                    PsiElement(identifier)('v')
                            PsiWhiteSpace('\n          ')
                            PsiElement(})('}')
                        PsiWhiteSpace('\n      ')
                        PsiElement(})('}')
                  PsiWhiteSpace('\n    ')
                  PsiElement(})('}')
        PsiWhiteSpace('\n\n  ')
        ScClass: Outer3
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(class)('class')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('Outer3')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: C
              PsiElement(identifier)('C')
            PsiElement(])(']')
          PrimaryConstructor
            AnnotationsList
              <empty list>
            Modifiers
              <empty list>
            Parameters
              <empty list>
          PsiWhiteSpace(' ')
          ExtendsBlock
            ScTemplateBody
              PsiElement({)('{')
              PsiWhiteSpace('\n    ')
              ScFunctionDefinition: foo3
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(def)('def')
                PsiWhiteSpace(' ')
                PsiElement(identifier)('foo3')
                Parameters
                  ParametersClause
                    PsiElement(()('(')
                    PsiElement())(')')
                PsiElement(:)(':')
                PsiWhiteSpace(' ')
                SimpleType: Unit
                  CodeReferenceElement: Unit
                    PsiElement(identifier)('Unit')
                PsiWhiteSpace(' ')
                PsiElement(=)('=')
                BlockExpression
                  PsiWhiteSpace(' \n      ')
                  ScClass: Inner3
                    AnnotationsList
                      <empty list>
                    Modifiers
                      <empty list>
                    PsiElement(class)('class')
                    PsiWhiteSpace(' ')
                    PsiElement(identifier)('Inner3')
                    PrimaryConstructor
                      AnnotationsList
                        <empty list>
                      Modifiers
                        <empty list>
                      Parameters
                        <empty list>
                    PsiWhiteSpace(' ')
                    ExtendsBlock
                      ScTemplateBody
                        PsiElement({)('{')
                        PsiWhiteSpace('\n          ')
                        ScFunctionDefinition: eval
                          AnnotationsList
                            <empty list>
                          Modifiers
                            <empty list>
                          PsiElement(def)('def')
                          PsiWhiteSpace(' ')
                          PsiElement(identifier)('eval')
                          Parameters
                            ParametersClause
                              PsiElement(()('(')
                              Parameter: e
                                AnnotationsList
                                  <empty list>
                                Modifiers
                                  <empty list>
                                PsiElement(identifier)('e')
                                PsiElement(:)(':')
                                PsiWhiteSpace(' ')
                                ParameterType
                                  ParametrizedType: Expr[C]
                                    SimpleType: Expr
                                      CodeReferenceElement: Expr
                                        PsiElement(identifier)('Expr')
                                    TypeArgumentsList
                                      PsiElement([)('[')
                                      SimpleType: C
                                        CodeReferenceElement: C
                                          PsiElement(identifier)('C')
                                      PsiElement(])(']')
                              PsiElement())(')')
                          PsiElement(:)(':')
                          PsiWhiteSpace(' ')
                          SimpleType: C
                            CodeReferenceElement: C
                              PsiElement(identifier)('C')
                          PsiWhiteSpace(' ')
                          PsiElement(=)('=')
                          PsiWhiteSpace('\n            ')
                          MatchStatement
                            ReferenceExpression: e
                              PsiElement(identifier)('e')
                            PsiWhiteSpace(' ')
                            PsiElement(match)('match')
                            PsiWhiteSpace(' ')
                            PsiElement({)('{')
                            PsiWhiteSpace('\n              ')
                            CaseClauses
                              CaseClause
                                PsiElement(case)('case')
                                PsiWhiteSpace(' ')
                                ConstructorPattern
                                  CodeReferenceElement: Expr.IntExpr
                                    CodeReferenceElement: Expr
                                      PsiElement(identifier)('Expr')
                                    PsiElement(.)('.')
                                    PsiElement(identifier)('IntExpr')
                                  Pattern Argument List
                                    PsiElement(()('(')
                                    ReferencePattern: i
                                      PsiElement(identifier)('i')
                                    PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(=>)('=>')
                                PsiWhiteSpace(' ')
                                BlockOfExpressions
                                  InfixExpression
                                    ReferenceExpression: i
                                      PsiElement(identifier)('i')
                                    PsiWhiteSpace(' ')
                                    ReferenceExpression: +
                                      PsiElement(identifier)('+')
                                    PsiWhiteSpace(' ')
                                    IntegerLiteral
                                      PsiElement(integer)('2')
                              PsiWhiteSpace('\n              ')
                              CaseClause
                                PsiElement(case)('case')
                                PsiWhiteSpace(' ')
                                ConstructorPattern
                                  CodeReferenceElement: Expr.Other
                                    CodeReferenceElement: Expr
                                      PsiElement(identifier)('Expr')
                                    PsiElement(.)('.')
                                    PsiElement(identifier)('Other')
                                  Pattern Argument List
                                    PsiElement(()('(')
                                    ReferencePattern: v
                                      PsiElement(identifier)('v')
                                    PsiElement())(')')
                                PsiWhiteSpace(' ')
                                PsiElement(=>)('=>')
                                PsiWhiteSpace(' ')
                                BlockOfExpressions
                                  ReferenceExpression: v
                                    PsiElement(identifier)('v')
                            PsiWhiteSpace('\n            ')
                            PsiElement(})('}')
                        PsiWhiteSpace('\n      ')
                        PsiElement(})('}')
              PsiWhiteSpace('\n  ')
              PsiElement(})('}')
        PsiWhiteSpace('\n\n  ')
        ScTrait: Outer4
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(trait)('trait')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('Outer4')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: C
              PsiElement(identifier)('C')
            PsiElement(])(']')
          PsiWhiteSpace(' ')
          ExtendsBlock
            ScTemplateBody
              PsiElement({)('{')
              PsiWhiteSpace('\n    ')
              ScClass: Inner4
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(class)('class')
                PsiWhiteSpace(' ')
                PsiElement(identifier)('Inner4')
                PrimaryConstructor
                  AnnotationsList
                    <empty list>
                  Modifiers
                    <empty list>
                  Parameters
                    <empty list>
                PsiWhiteSpace(' ')
                ExtendsBlock
                  ScTemplateBody
                    PsiElement({)('{')
                    PsiWhiteSpace('\n      ')
                    ScFunctionDefinition: eval
                      AnnotationsList
                        <empty list>
                      Modifiers
                        <empty list>
                      PsiElement(def)('def')
                      PsiWhiteSpace(' ')
                      PsiElement(identifier)('eval')
                      Parameters
                        ParametersClause
                          PsiElement(()('(')
                          Parameter: e
                            AnnotationsList
                              <empty list>
                            Modifiers
                              <empty list>
                            PsiElement(identifier)('e')
                            PsiElement(:)(':')
                            PsiWhiteSpace(' ')
                            ParameterType
                              ParametrizedType: Expr[C]
                                SimpleType: Expr
                                  CodeReferenceElement: Expr
                                    PsiElement(identifier)('Expr')
                                TypeArgumentsList
                                  PsiElement([)('[')
                                  SimpleType: C
                                    CodeReferenceElement: C
                                      PsiElement(identifier)('C')
                                  PsiElement(])(']')
                          PsiElement())(')')
                      PsiElement(:)(':')
                      PsiWhiteSpace(' ')
                      SimpleType: C
                        CodeReferenceElement: C
                          PsiElement(identifier)('C')
                      PsiWhiteSpace(' ')
                      PsiElement(=)('=')
                      PsiWhiteSpace('\n        ')
                      MatchStatement
                        ReferenceExpression: e
                          PsiElement(identifier)('e')
                        PsiWhiteSpace(' ')
                        PsiElement(match)('match')
                        PsiWhiteSpace(' ')
                        PsiElement({)('{')
                        PsiWhiteSpace('\n          ')
                        CaseClauses
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.IntExpr
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('IntExpr')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: i
                                  PsiElement(identifier)('i')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              InfixExpression
                                ReferenceExpression: i
                                  PsiElement(identifier)('i')
                                PsiWhiteSpace(' ')
                                ReferenceExpression: +
                                  PsiElement(identifier)('+')
                                PsiWhiteSpace(' ')
                                IntegerLiteral
                                  PsiElement(integer)('2')
                          PsiWhiteSpace('\n          ')
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.Other
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('Other')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: v
                                  PsiElement(identifier)('v')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              ReferenceExpression: v
                                PsiElement(identifier)('v')
                        PsiWhiteSpace('\n        ')
                        PsiElement(})('}')
                    PsiWhiteSpace('\n    ')
                    PsiElement(})('}')
              PsiWhiteSpace('\n  ')
              PsiElement(})('}')
        PsiWhiteSpace('\n\n  ')
        ScClass: Outer5
          AnnotationsList
            <empty list>
          Modifiers
            <empty list>
          PsiElement(class)('class')
          PsiWhiteSpace(' ')
          PsiElement(identifier)('Outer5')
          TypeParameterClause
            PsiElement([)('[')
            TypeParameter: C
              PsiElement(identifier)('C')
            PsiElement(])(']')
          PrimaryConstructor
            AnnotationsList
              <empty list>
            Modifiers
              <empty list>
            Parameters
              <empty list>
          PsiWhiteSpace(' ')
          ExtendsBlock
            ScTemplateBody
              PsiElement({)('{')
              PsiWhiteSpace('\n    ')
              ScObject: Inner5
                AnnotationsList
                  <empty list>
                Modifiers
                  <empty list>
                PsiElement(object)('object')
                PsiWhiteSpace(' ')
                PsiElement(identifier)('Inner5')
                PsiWhiteSpace(' ')
                ExtendsBlock
                  ScTemplateBody
                    PsiElement({)('{')
                    PsiWhiteSpace('\n      ')
                    ScFunctionDefinition: eval
                      AnnotationsList
                        <empty list>
                      Modifiers
                        <empty list>
                      PsiElement(def)('def')
                      PsiWhiteSpace(' ')
                      PsiElement(identifier)('eval')
                      Parameters
                        ParametersClause
                          PsiElement(()('(')
                          Parameter: e
                            AnnotationsList
                              <empty list>
                            Modifiers
                              <empty list>
                            PsiElement(identifier)('e')
                            PsiElement(:)(':')
                            PsiWhiteSpace(' ')
                            ParameterType
                              ParametrizedType: Expr[C]
                                SimpleType: Expr
                                  CodeReferenceElement: Expr
                                    PsiElement(identifier)('Expr')
                                TypeArgumentsList
                                  PsiElement([)('[')
                                  SimpleType: C
                                    CodeReferenceElement: C
                                      PsiElement(identifier)('C')
                                  PsiElement(])(']')
                          PsiElement())(')')
                      PsiElement(:)(':')
                      PsiWhiteSpace(' ')
                      SimpleType: C
                        CodeReferenceElement: C
                          PsiElement(identifier)('C')
                      PsiWhiteSpace(' ')
                      PsiElement(=)('=')
                      PsiWhiteSpace('\n        ')
                      MatchStatement
                        ReferenceExpression: e
                          PsiElement(identifier)('e')
                        PsiWhiteSpace(' ')
                        PsiElement(match)('match')
                        PsiWhiteSpace(' ')
                        PsiElement({)('{')
                        PsiWhiteSpace('\n          ')
                        CaseClauses
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.IntExpr
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('IntExpr')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: i
                                  PsiElement(identifier)('i')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              InfixExpression
                                ReferenceExpression: i
                                  PsiElement(identifier)('i')
                                PsiWhiteSpace(' ')
                                ReferenceExpression: +
                                  PsiElement(identifier)('+')
                                PsiWhiteSpace(' ')
                                IntegerLiteral
                                  PsiElement(integer)('2')
                          PsiWhiteSpace('\n          ')
                          CaseClause
                            PsiElement(case)('case')
                            PsiWhiteSpace(' ')
                            ConstructorPattern
                              CodeReferenceElement: Expr.Other
                                CodeReferenceElement: Expr
                                  PsiElement(identifier)('Expr')
                                PsiElement(.)('.')
                                PsiElement(identifier)('Other')
                              Pattern Argument List
                                PsiElement(()('(')
                                ReferencePattern: v
                                  PsiElement(identifier)('v')
                                PsiElement())(')')
                            PsiWhiteSpace(' ')
                            PsiElement(=>)('=>')
                            PsiWhiteSpace(' ')
                            BlockOfExpressions
                              ReferenceExpression: v
                                PsiElement(identifier)('v')
                        PsiWhiteSpace('\n        ')
                        PsiElement(})('}')
                    PsiWhiteSpace('\n    ')
                    PsiElement(})('}')
              PsiWhiteSpace('\n  ')
              PsiElement(})('}')
        PsiWhiteSpace('\n')
        PsiElement(})('}')
